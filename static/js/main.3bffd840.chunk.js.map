{"version":3,"sources":["api/fake/userProfile.ts","api/instances.ts","utility/urlHelper.ts","core/asyncState.ts","store/auth/slice.ts","utility/credentialHelper.ts","api/networkService.ts","store/auth/selectors.ts","core/error.ts","store/error/actions.ts","store/error/constants.ts","api/controllers/auth.ts","utility/useAuthenticationHandling.tsx","store/auth/thunks.ts","store/auth/constants.ts","components/PublicPage/PublicPage.tsx","components/Loading/Loading.tsx","components/LoadingPage/LoadingPage.tsx","components/Async/Async.tsx","components/ErrorPage/ErrorPage.tsx","components/ProtectedRoute/ProtectedRoute.tsx","components/ErrorBoundary/ErrorBoundary.tsx","store/router/selectors.ts","utility/useRedirect.ts","utility/nameof.ts","components/ValidatableInput/ValidatableInput.tsx","components/LoadingButton/LoadingButton.tsx","components/LoginForm/LoginForm.tsx","utility/getFormErrors.ts","pages/Login/Login.tsx","utility/getLoginOrEmpty.ts","pages/Home/Home.tsx","pages/MobileOnly/MobileOnly.tsx","store/profile/slice.ts","api/controllers/profile.ts","store/profile/selectors.ts","assets/images/logo.svg","assets/images/profile.svg","routes.ts","components/MenuItem/MenuItem.tsx","components/Menu/Menu.tsx","components/Header/Header.tsx","components/MenuContext/MenuContext.tsx","components/ProfileView/ProfileView.tsx","pages/Profile/Profile.tsx","store/profile/thunks.ts","store/profile/constants.ts","App.tsx","serviceWorker.ts","store/rootReducer.ts","store/store.ts","index.tsx"],"names":["userProfile","firstname","lastname","location","description","email","picture","instanceConfig","baseURL","window","host","includes","timeout","withCredentials","apiInstance","axios","create","authInstance","loggedUser","login","logKey","mock","MockAdapter","delayResponse","authMock","onGet","reply","localStorage","getItem","onPost","password","console","log","setItem","removeItem","rawUser","JSON","parse","e","error","config","AsyncState","inProcess","data","timerId","_inProcess","_data","_error","_timerID","this","createProcess","retryCallback","retryAfterMs","undefined","setTimeout","clearTimeout","createSuccess","createFailed","f","r1","r2","r3","initialState","user","authorized","authRequested","logout","AuthSlice","createSlice","name","reducers","getCurrentUserProcess","state","toProcess","getCurrentUserSuccess","action","toSuccess","payload","getCurrentUserFailed","toFailed","setUnauthorized","loginProcess","loginSuccess","loginFailed","logoutProcess","logoutSuccess","logoutFailed","actions","authUserFailed","dispatch","pathname","path","encodeURIComponent","href","getLoginUrl","push","store","interceptors","request","use","Promise","reject","response","status","getAuthStatus","auth","getAuthRequested","getLoginError","getLoginProcess","getUserState","getUser","getLogoutStatus","createSystemError","reason","isAxiosError","apiError","key","details","message","sendError","type","redirect","get","then","loginData","post","useAuthenticationHandling","useSelector","useDispatch","useEffect","a","authController","getCurrentUser","PublicPage","props","className","children","cn","React","PureComponent","Message","text","easeOut","t","value","min","max","Math","Loading","forwardRef","ref","disableShrink","size","thickness","variant","other","circleStyle","rootStyle","rootProps","circumference","PI","strokeDasharray","toFixed","round","strokeDashoffset","transform","style","width","height","role","viewBox","SIZE","cx","cy","r","fill","strokeWidth","LoadingPage","Async","dataState","errorView","processView","ErrorPage","ProtectedRoute","authenticated","userState","component","render","ErrorBoundary","hasError","errorInfo","Component","getSearch","router","search","useRedirect","redirectUrl","replace","results","RegExp","exec","decodeURIComponent","getUrlParameter","nameof","toString","ValidatableInput","useField","field","meta","id","placeholder","as","label","readonly","disableFeedback","Form","Group","controlId","Label","Control","plaintext","onChange","onBlur","isInvalid","touched","Feedback","LoadingButton","loading","buttonProps","Button","disabled","FormikLoginForm","handleSubmit","errors","loginError","noValidate","onSubmit","Object","keys","map","touch","getFormErrors","index","LoginForm","initialValues","validationSchema","Yup","shape","required","values","formikProps","Login","isAuth","getLoginOrEmpty","Home","onClick","useCallback","toProfile","Container","fluid","MobileOnly","profile","isEdit","ProfileSlice","getProfileProcess","getProfileSuccess","getProfileFailed","editProfile","freezeProfile","saveProfile","profileId","selectCurrentProfile","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref","svgRef","title","ForwardRef","fillRule","clipRule","MenuItem","number","processedNumber","useMemo","Menu","opened","toUserProfile","menuItems","m","Header","onMenuOpen","menuOpened","toLogin","routes","onToggle","toggled","MenuContext","createContext","ProfileView","editable","useState","isMenuOpen","setMenuOpen","Provider","src","alt","Profile","profileState","useParams","editableProfile","profileController","getProfile","App","history","context","exact","Boolean","hostname","match","createRootReducer","combineReducers","connectRouter","AuthReducer","ProfileReducer","createBrowserHistory","basename","routerMiddleware","createRouterMiddleware","configureStore","reducer","middleware","thunk","devTools","process","NetworkService","ReactDOM","ReactReduxContext","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3bffd840.chunk.js","sourcesContent":["import { Profile } from \"../../models/profile\"\r\n\r\nconst userProfile: Profile = {\r\n    firstname: \"Игорь\",\r\n    lastname: \"Рыбаков\",\r\n    location: \"Москва, Россия\",\r\n    description: \"Предприниматель, участник списка Forbes. Грандмастер учения X10, создатель “Рыбаков Фонд”.\",\r\n    email: \"support@x10academy.ru\",\r\n    picture: \"https://yt3.ggpht.com/ytc/AAUvwngY5L0V5kvuvIiE4CiY8mAZYub53s2W0tc2K4Qv=s88-c-k-c0x00ffffff-no-rj\"\r\n}\r\n\r\nexport default userProfile","import axios from \"axios\"\r\nimport { getBaseUrl } from \"../utility/urlHelper\"\r\nimport MockAdapter from \"axios-mock-adapter\"\r\nimport { User } from \"../models/user\"\r\nimport userProfile from \"./fake/userProfile\"\r\n\r\nconst instanceConfig = {\r\n    baseURL: `${getBaseUrl()}/api/v2`,\r\n    timeout: 1000,\r\n    withCredentials: true\r\n}\r\n\r\nexport const apiInstance = axios.create(instanceConfig)\r\nexport const authInstance = axios.create(instanceConfig)\r\n\r\nconst loggedUser: User = { login: \"test\" }\r\nconst logKey = \"itsme:fake-login\"\r\nconst userKey = \"itsme:fake-user\"\r\n\r\nconst mock = new MockAdapter(apiInstance, { delayResponse: 1500 })\r\nconst authMock = new MockAdapter(authInstance, { delayResponse: 1500 })\r\n\r\nmock.onGet(\"/login/user\").reply(() =>\r\n    localStorage.getItem(logKey) === \"true\" ? [200, loggedUser] : [401])\r\nauthMock.onGet(\"/login/user\").reply(() =>\r\n    localStorage.getItem(logKey) === \"true\" ? [200, loggedUser] : [401])\r\nmock.onPost(\"/login\", { login: \"test\", password: \"test\" }).reply(() => {\r\n    console.log(\"[fake] user is logging\")\r\n    localStorage.setItem(logKey, \"true\")\r\n    return [200]\r\n})\r\nmock.onPost(\"/logout\").reply(() => {\r\n    localStorage.removeItem(logKey)\r\n    return [200]\r\n})\r\nmock.onGet(\"/profile/test\").reply(() => {\r\n    const rawUser = localStorage.getItem(userKey)\r\n    if (rawUser) {\r\n        try {\r\n            const user = JSON.parse(rawUser)\r\n            return [200, user]\r\n        }\r\n        catch (e) {\r\n            console.error(e)\r\n            return [500]\r\n        }\r\n    }\r\n    else {\r\n        return [200, userProfile]\r\n    }\r\n})\r\nmock.onPost(\"/profile\", ).reply(config => {\r\n    console.log(\"[fake] user profile is saving\", config)\r\n    return [200]\r\n})","\r\nexport const getUrlParameter = (key: string, search: string) => {\r\n    if (!search) search = window.location.href\r\n    key = key.replace(/[\\]]/g, \"\\\\$&\")\r\n    const regex = new RegExp(\"[?&]\" + key + \"(=([^&#]*)|&|#|$)\"),\r\n        results = regex.exec(search)\r\n    if (!results) return undefined\r\n    if (!results[2]) return \"\"\r\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"))\r\n}\r\n\r\nexport const removeLastSlash = (url: string) => url.replace(/\\/+$/, \"\")\r\n\r\nexport const getBaseUrl = () => {\r\n    if (window.location.host.includes(\"localhost\")) {\r\n        return \"http://localhost:8086\"\r\n    }\r\n    if (window.location.host.includes(\"127.0.0.1\")) {\r\n        return \"http://127.0.0.1:8086\"\r\n    }\r\n    return \"\"\r\n}\r\n","import { SystemError } from \"./error\"\r\n\r\nclass AsyncState<T> {\r\n    private _inProcess: boolean\r\n    private _data?: T\r\n    private _error?: SystemError\r\n    private _timerID?: number\r\n\r\n    get inProcess() {\r\n        return this._inProcess\r\n    }\r\n\r\n    get data() {\r\n        return this._data\r\n    }\r\n\r\n    get error() {\r\n        return this._error\r\n    }\r\n\r\n    protected constructor(inProcess: boolean, data?: T, error?: SystemError, timerId?: number) {\r\n        this._inProcess = inProcess\r\n        this._error = error\r\n        this._data = data\r\n        this._timerID = timerId\r\n    }\r\n\r\n    static create<T>() {\r\n        return new AsyncState<T>(false)\r\n    }\r\n\r\n    static createProcess<T>() {\r\n        return new AsyncState<T>(true)\r\n    }\r\n\r\n    static createSuccess<T>(data: T) {\r\n        return new AsyncState<T>(false, data)\r\n    }\r\n\r\n    static createFailed<T>(error: SystemError) {\r\n        return new AsyncState<T>(false, undefined, error)\r\n    }\r\n\r\n    toProcess<T>() {\r\n        return AsyncState.createProcess<T>()\r\n    }\r\n\r\n    toProcessWithRetry<T>(retryCallback: () => void, retryAfterMs: number) {\r\n        const timerId = window.setTimeout(retryCallback, retryAfterMs)\r\n\r\n        return new AsyncState<T>(true, undefined, undefined, timerId)\r\n    }\r\n\r\n    toSuccess(data: T) {\r\n        if (this._timerID) {\r\n            clearTimeout(this._timerID)\r\n            this._timerID = undefined\r\n        }\r\n\r\n        return AsyncState.createSuccess(data)\r\n    }\r\n\r\n    toFailed<T>(error: SystemError) {\r\n        if (this._timerID) {\r\n            clearTimeout(this._timerID)\r\n            this._timerID = undefined\r\n        }\r\n\r\n        return AsyncState.createFailed<T>(error)\r\n    }\r\n\r\n    static merge2<T1, T2>(r1: AsyncState<T1>, r2: AsyncState<T2>) {\r\n        return new AsyncState<[T1, T2]>(\r\n            r1.inProcess || r2.inProcess,\r\n            r1.data && r2.data && [r1.data, r2.data],\r\n            r1.error || r2.error\r\n        )\r\n    }\r\n\r\n    static merge3<T1, T2, T3>(r1: AsyncState<T1>, r2: AsyncState<T2>, r3: AsyncState<T3>) {\r\n        return new AsyncState<[T1, T2, T3]>(\r\n            r1.inProcess || r2.inProcess || r3.inProcess,\r\n            r1.data && r2.data && r3.data && [r1.data, r2.data, r3.data],\r\n            r1.error || r2.error || r3.error\r\n        )\r\n    }\r\n\r\n    map(f: (v: T) => T) {\r\n        return this.data\r\n            ? new AsyncState(this.inProcess, f(this.data), this.error)\r\n            : this\r\n    }\r\n\r\n}\r\n\r\nexport default AsyncState","import { User } from \"../../models/user\"\r\nimport AsyncState from \"../../core/asyncState\"\r\nimport { createSlice } from \"@reduxjs/toolkit\"\r\n\r\nexport type AuthState = Readonly<{\r\n    user: AsyncState<User>\r\n    authorized: boolean\r\n    authRequested: boolean\r\n    login: AsyncState<void>\r\n    logout: AsyncState<void>\r\n}>\r\n\r\nconst initialState: AuthState = {\r\n    user: AsyncState.create(),\r\n    authorized: false,\r\n    authRequested: false,\r\n    login: AsyncState.create(),\r\n    logout: AsyncState.create()\r\n}\r\n\r\nconst AuthSlice = createSlice({\r\n    name: \"auth\",\r\n    initialState,\r\n    reducers: {\r\n        getCurrentUserProcess(state) {\r\n            state.user = state.user.toProcess()\r\n        },\r\n        getCurrentUserSuccess(state, action) {\r\n            state.authorized = true\r\n            state.authRequested = true\r\n            state.user = state.user.toSuccess(action.payload)\r\n        },\r\n        getCurrentUserFailed(state, action) {\r\n            state.authorized = false\r\n            state.authRequested = true\r\n            state.user = state.user.toFailed(action.payload)\r\n        },\r\n        setUnauthorized(state) {\r\n            state.authorized = false\r\n            state.authRequested = true\r\n            state.user = AsyncState.create()\r\n        },\r\n        loginProcess(state) {\r\n            state.login = state.login.toProcess()\r\n        },\r\n        loginSuccess(state) {\r\n            state.login = state.login.toSuccess()\r\n            state.authorized = true\r\n            state.authRequested = true\r\n        },\r\n        loginFailed(state, action) {\r\n            state.login = state.login.toFailed(action.payload)\r\n            state.user = AsyncState.create()\r\n        },\r\n        logoutProcess(state) {\r\n            state.logout = state.login.toProcess()\r\n        },\r\n        logoutSuccess(state) {\r\n            state.logout = state.logout.toSuccess()\r\n            state.user = AsyncState.create()\r\n            state.authorized = false\r\n            state.authRequested = false\r\n        },\r\n        logoutFailed(state, action) {\r\n            state.logout = state.login.toFailed(action.payload)\r\n        }\r\n    }\r\n})\r\n\r\nexport default AuthSlice.reducer\r\nexport const actions = AuthSlice.actions","import { Dispatch } from \"./storeHelper\"\r\nimport { push } from \"connected-react-router\"\r\nimport { actions } from \"../store/auth/slice\"\r\n\r\nexport const getCookie = (key: string) => {\r\n    let matches = document.cookie.match(new RegExp(\r\n        \"(?:^|; )\" + key.replace(/([$?*|{}\\]\\\\^])/g, \"\\\\$1\") + \"=([^;]*)\"\r\n    ))\r\n    return matches ? decodeURIComponent(matches[1]) : undefined\r\n}\r\n\r\nexport const getLoginUrl = (path: string): string => {\r\n    const redirectParam = `?continue=${encodeURIComponent(window.location.href)}`\r\n    // TODO сделать чтобы параметры не дублировались\r\n    return `${path}`\r\n}\r\n\r\nexport const authUserFailed = (dispatch: Dispatch) => {\r\n    const pathname = getLoginUrl(`/account/login`)\r\n    dispatch(actions.setUnauthorized())\r\n    dispatch(push(pathname))\r\n}","import { Store } from \"redux\"\r\nimport { apiInstance } from \"./instances\"\r\nimport { authUserFailed } from \"../utility/credentialHelper\"\r\n\r\nexport default {\r\n    setupInterceptors: (store: Store) => {\r\n        apiInstance.interceptors.request.use(config => config\r\n            , error => {\r\n                return Promise.reject(error)\r\n            })\r\n        apiInstance.interceptors.response.use(response => {\r\n            return response\r\n        }, error => {\r\n            if (error && error.response && error.response.status && error.response.status === 401) {\r\n                authUserFailed(store.dispatch)\r\n            }\r\n            return Promise.reject(error)\r\n        })\r\n    }\r\n}","import { RootState } from \"../rootReducer\"\r\n\r\nexport const getAuthStatus = (state: RootState) => state.auth.authorized\r\nexport const getAuthRequested = (state: RootState) => state.auth.authRequested\r\nexport const getLoginError = (state: RootState) => state.auth.login.error\r\nexport const getLoginProcess = (state: RootState) => state.auth.login.inProcess\r\nexport const getUserState = (state: RootState) => state.auth.user\r\nexport const getUser = (state: RootState) => state.auth.user.data\r\nexport const getLogoutStatus = (state: RootState) => state.auth.logout","import { ErrorResponse } from \"../models/errorResponse\"\r\n\r\nexport interface SystemError {\r\n    reason: string\r\n    details?: string\r\n    error: Error\r\n}\r\n\r\nexport const createSystemError = (reason: string, error: any): SystemError => {\r\n    // TODO return reason as an error.key from API\r\n    if (error.isAxiosError && error.response?.data?.error) {\r\n        const apiError = (error.response.data as ErrorResponse).error\r\n\r\n        return {\r\n            reason: apiError.key || reason,\r\n            details: apiError.message,\r\n            error\r\n        }\r\n    }\r\n\r\n    return {\r\n        reason,\r\n        error\r\n    }\r\n}","import { ERROR_OCCURRED } from \"./constants\"\r\nimport { SystemError } from \"../../models/error\"\r\nimport { Dispatch } from \"../../utility/storeHelper\"\r\n\r\nexport interface ErrorOccurred {\r\n    type: typeof ERROR_OCCURRED\r\n    payload: SystemError\r\n}\r\nexport const sendError = (dispatch: Dispatch, error: SystemError) =>\r\n    dispatch({\r\n        type: ERROR_OCCURRED,\r\n        payload: error\r\n    } as ErrorOccurred)","export const ERROR_OCCURRED = `@@error/ERROR_OCCURRED`\r\n","import { apiInstance, authInstance } from \"../instances\"\r\nimport { User } from \"../../models/user\"\r\nimport { LoginData } from \"../../models/login\"\r\n\r\nexport default {\r\n    getCurrentUser: (redirect: boolean): Promise<User> => {\r\n        const instance = redirect ? apiInstance : authInstance\r\n        return instance.get(\"/login/user\")\r\n            .then(response => response.data)\r\n    },\r\n    login: (loginData: LoginData): Promise<User> =>\r\n        apiInstance.post(\"/login\", loginData)\r\n            .then(response => response.data),\r\n    logout: (): Promise<void> =>\r\n        apiInstance.post(\"/logout\")\r\n            .then(response => response.data)\r\n}","import { useDispatch, useSelector } from \"react-redux\"\r\nimport { useEffect } from \"react\"\r\nimport { getAuthRequested } from \"../store/auth/selectors\"\r\nimport { getCurrentUser } from \"../store/auth/thunks\"\r\n\r\nexport const useAuthenticationHandling = (redirect: boolean) => {\r\n    const authRequested = useSelector(getAuthRequested)\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        !authRequested && dispatch(getCurrentUser(redirect))\r\n    }, [authRequested, dispatch, redirect])\r\n    return authRequested\r\n}\r\n","import { ActionResult, Dispatch } from \"../../utility/storeHelper\"\r\nimport { createSystemError } from \"../../core/error\"\r\nimport { LoginData } from \"../../models/login\"\r\nimport { sendError } from \"../error/actions\"\r\nimport authController from \"../../api/controllers/auth\"\r\nimport { actions } from \"./slice\"\r\nimport * as constants from \"./constants\"\r\n\r\n\r\nexport const getCurrentUser = (redirect: boolean): ActionResult<Promise<void>> =>\r\n    async (dispatch: Dispatch) => {\r\n        dispatch(actions.getCurrentUserProcess())\r\n        try {\r\n            const user = await authController.getCurrentUser(redirect)\r\n            dispatch(actions.getCurrentUserSuccess(user))\r\n        }\r\n        catch (e) {\r\n            const error = createSystemError(constants.GET_USER_FAILED, e)\r\n            dispatch(actions.getCurrentUserFailed(error))\r\n            sendError(dispatch, error)\r\n        }\r\n    }\r\n\r\nexport const login = (loginData: LoginData): ActionResult<Promise<void>> =>\r\n    async (dispatch: Dispatch) => {\r\n        dispatch(actions.loginProcess())\r\n        try {\r\n            await authController.login(loginData)\r\n            dispatch(actions.loginSuccess())\r\n        }\r\n        catch (e) {\r\n            const error = createSystemError(constants.LOGIN_FAILED, e)\r\n            dispatch(actions.loginFailed(error))\r\n            sendError(dispatch, error)\r\n        }\r\n    }\r\n\r\n\r\nexport const logout = (): ActionResult<Promise<void>> =>\r\n    async (dispatch: Dispatch) => {\r\n        dispatch(actions.logoutProcess())\r\n        try {\r\n            await authController.logout()\r\n            dispatch(actions.logoutSuccess())\r\n        }\r\n        catch (e) {\r\n            const error = createSystemError(constants.LOGOUT_FAILED, e)\r\n            dispatch(actions.logoutFailed(error))\r\n            sendError(dispatch, error)\r\n        }\r\n    }\r\n","export const GET_USER_FAILED = \"Не удалось получить пользователя\"\r\nexport const LOGIN_FAILED = \"Не удалось выполнить вход\"\r\nexport const LOGOUT_FAILED = \"Не удалось выполнить выход\"","import React from \"react\"\r\nimport \"./PublicPage.scss\"\r\nimport { ClassProps } from \"../../utility/props\"\r\nimport cn from \"classnames\"\r\n\r\ninterface MessageProps extends ClassProps {\r\n    text?: string\r\n}\r\n\r\nconst Message: React.FC<MessageProps> = props => {\r\n    const { children, text, className } = props\r\n    return (\r\n        <div className={cn(\"public-page-message\", className)}>\r\n            <div className=\"public-page-message__text\">\r\n                {children}\r\n                {text}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\ninterface Props extends ClassProps {\r\n\r\n}\r\n\r\nclass PublicPage extends React.PureComponent<Props> {\r\n    static Message = Message\r\n\r\n    render() {\r\n        const { className, children } = this.props\r\n        return (\r\n            <div className={cn(\"public-page\", className)}>\r\n                <div className=\"public-page__header header\">\r\n                    <div className=\"header__left\">\r\n\r\n                    </div>\r\n                    <div className=\"header__right\">\r\n\r\n                    </div>\r\n                </div>\r\n                <div className=\"public-page__body\">\r\n                    {children}\r\n                </div>\r\n                <div className=\"public-page__footer footer\">\r\n                    <div className=\"footer__left\">\r\n\r\n                    </div>\r\n                    <div className=\"footer__right\">\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default PublicPage","import React, { CSSProperties } from \"react\"\r\nimport \"./Loading.scss\"\r\nimport cn from \"classnames\"\r\n\r\nconst SIZE = 44\r\n\r\ninterface Props extends React.HTMLAttributes<HTMLDivElement> {\r\n    disableShrink?: boolean;\r\n    size?: number | string;\r\n    thickness?: number;\r\n    value?: number;\r\n    variant?: \"determinate\" | \"indeterminate\" | \"static\";\r\n}\r\n\r\nfunction getRelativeValue(value: number, min: number, max: number) {\r\n    return (Math.min(Math.max(min, value), max) - min) / (max - min)\r\n}\r\n\r\nfunction easeOut(t: number) {\r\n    t = getRelativeValue(t, 0, 1)\r\n    t = (t -= 1) * t * t + 1\r\n    return t\r\n}\r\n\r\nfunction easeIn(t: number) {\r\n    return t * t\r\n}\r\n\r\nconst Loading = React.forwardRef<any, Props>(function CircularProgress(props, ref) {\r\n    const {\r\n        className,\r\n        disableShrink = false,\r\n        size,\r\n        thickness = 3.6,\r\n        value = 0,\r\n        variant = \"indeterminate\",\r\n        ...other\r\n    } = props\r\n\r\n    const circleStyle: CSSProperties = {}\r\n    const rootStyle: CSSProperties = {}\r\n    const rootProps: React.HTMLAttributes<HTMLDivElement> = {}\r\n\r\n    if (variant === \"determinate\" || variant === \"static\") {\r\n        const circumference = 2 * Math.PI * ((SIZE - thickness) / 2)\r\n        circleStyle.strokeDasharray = circumference.toFixed(3)\r\n        rootProps[\"aria-valuenow\"] = Math.round(value)\r\n\r\n        if (variant === \"static\") {\r\n            circleStyle.strokeDashoffset = `${(((100 - value) / 100) * circumference).toFixed(3)}px`\r\n            rootStyle.transform = \"rotate(-90deg)\"\r\n        } else {\r\n            circleStyle.strokeDashoffset = `${(easeIn((100 - value) / 100) * circumference).toFixed(\r\n                3,\r\n            )}px`\r\n            rootStyle.transform = `rotate(${(easeOut(value / 70) * 270).toFixed(3)}deg)`\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={cn(\"loading\",\r\n                variant === \"indeterminate\"\r\n                    ? \"loading_indeterminate\"\r\n                    : variant === \"static\" && \"loading_static\",\r\n                disableShrink && \"loading_disable-shrink\",\r\n                className\r\n            )}\r\n            style={{ width: size, height: size, ...rootStyle }}\r\n            ref={ref}\r\n            role=\"progressbar\"\r\n            {...rootProps}\r\n            {...other}\r\n        >\r\n            <svg className={\"loading__svg\"} viewBox={`${SIZE / 2} ${SIZE / 2} ${SIZE} ${SIZE}`}>\r\n                <circle\r\n                    className=\"loading__circle\"\r\n                    style={circleStyle}\r\n                    cx={SIZE}\r\n                    cy={SIZE}\r\n                    r={(SIZE - thickness) / 2}\r\n                    fill=\"none\"\r\n                    strokeWidth={thickness}\r\n                />\r\n            </svg>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Loading","import React from \"react\"\r\nimport \"./LoadingPage.scss\"\r\nimport PublicPage from \"../PublicPage/PublicPage\"\r\nimport Loading from \"../Loading/Loading\"\r\n\r\nconst LoadingPage: React.FC = () => {\r\n    return (\r\n        <PublicPage className=\"loading-page\">\r\n            <PublicPage.Message>\r\n                <Loading size={50}/>\r\n            </PublicPage.Message>\r\n        </PublicPage>\r\n    )\r\n}\r\n\r\nexport default LoadingPage","import React from \"react\"\r\nimport { AsyncDataProps, AsyncErrorProps } from \"../../utility/asyncHelper\"\r\nimport AsyncState from \"../../core/asyncState\"\r\n\r\ninterface Props<T> {\r\n    dataState: AsyncState<T>\r\n    processView: JSX.Element\r\n    errorView: (props: AsyncErrorProps) => JSX.Element\r\n    children: (props: AsyncDataProps<T>) => JSX.Element\r\n}\r\n\r\nfunction Async<T>(props: Props<T>): JSX.Element {\r\n    const {\r\n        dataState,\r\n        errorView,\r\n        processView,\r\n        children\r\n    } = props\r\n    if (dataState.inProcess) {\r\n        return processView\r\n    }\r\n    if (dataState.error) {\r\n        return errorView({ message: dataState.error.reason })\r\n    }\r\n    return (\r\n        <>\r\n            {dataState.data\r\n                ? children({ data: dataState.data })\r\n                : null\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Async","import React from \"react\"\r\nimport \"./ErrorPage.scss\"\r\nimport PublicPage from \"../PublicPage/PublicPage\"\r\n\r\ninterface Props {\r\n    message?: string\r\n}\r\n\r\nconst ErrorPage: React.FC<Props> = props => {\r\n    const { message } = props\r\n    return (\r\n        <PublicPage className=\"error-page\">\r\n            <PublicPage.Message>\r\n                <h1 className=\"error-page__title\">Что-то пошло не так</h1>\r\n                {message\r\n                    ? <h1 className=\"error-page__text\">{message}</h1>\r\n                    : <span className=\"error-page__text\">Мы уже работаем над решением этой проблемы!</span>\r\n                }\r\n            </PublicPage.Message>\r\n        </PublicPage>\r\n    )\r\n}\r\n\r\nexport default ErrorPage","import React from \"react\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { Route, RouteProps } from \"react-router\"\r\nimport { getAuthStatus, getUserState } from \"../../store/auth/selectors\"\r\nimport { useAuthenticationHandling } from \"../../utility/useAuthenticationHandling\"\r\nimport LoadingPage from \"../LoadingPage/LoadingPage\"\r\nimport Async from \"../Async/Async\"\r\nimport ErrorPage from \"../ErrorPage/ErrorPage\"\r\n\r\ninterface ProtectedRouteProps extends RouteProps {}\r\n\r\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = props => {\r\n    const authenticated = useSelector(getAuthStatus)\r\n    const userState = useSelector(getUserState)\r\n    useAuthenticationHandling(true)\r\n    if (authenticated) {\r\n        return <Route {...props}/>\r\n    }\r\n    else {\r\n        return <Route\r\n            {...props}\r\n            component={undefined}\r\n            render={() =>\r\n                <Async\r\n                    dataState={userState}\r\n                    processView={<LoadingPage/>}\r\n                    errorView={({ message }) => <ErrorPage message={message}/>}\r\n                >\r\n                    {() => <LoadingPage/>}\r\n                </Async>\r\n            }\r\n        />\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default ProtectedRoute","import React from \"react\"\r\nimport ErrorPage from \"../ErrorPage/ErrorPage\"\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\ninterface State {\r\n    hasError: boolean\r\n}\r\n\r\nclass ErrorBoundary extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props)\r\n        this.state = { hasError: false }\r\n    }\r\n\r\n    static getDerivedStateFromError(): State {\r\n        return { hasError: true }\r\n    }\r\n\r\n    componentDidCatch(error: Error, errorInfo: React.ErrorInfo): void {\r\n        console.error(\"Catch error\", error, errorInfo)\r\n        // TODO log to server\r\n    }\r\n\r\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\r\n        if (this.state.hasError) {\r\n            return <ErrorPage/>\r\n        }\r\n        return this.props.children\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary","import { RootState } from \"../rootReducer\"\r\n\r\nexport const getLocation = (state: RootState) => state.router.location\r\nexport const getPathname = (state: RootState) => state.router.location.pathname\r\nexport const getSearch = (state: RootState) => state.router.location.search","import { useEffect } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { getAuthStatus } from \"../store/auth/selectors\"\r\nimport { getSearch } from \"../store/router/selectors\"\r\nimport { getUrlParameter } from \"./urlHelper\"\r\nimport { push } from \"connected-react-router\"\r\n\r\nconst redirectParamKey = \"continue\"\r\n\r\nexport const useRedirect = () => {\r\n    const authenticated = useSelector(getAuthStatus)\r\n    const search = useSelector(getSearch)\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        const redirectUrl = getUrlParameter(redirectParamKey, search)\r\n        if (authenticated) {\r\n            if (redirectUrl) {\r\n                window.location.href = redirectUrl\r\n            }\r\n            else {\r\n                dispatch(push(\"/\"))\r\n            }\r\n        }\r\n    }, [authenticated, search, dispatch])\r\n    return authenticated\r\n}\r\n","export const nameof = <T>(name: keyof T) => name.toString()\r\n\r\nexport const nameof2 = <T1, T2>(name1: keyof T1, name2: keyof T2) => `${name1}.${name2}`","import React from \"react\"\r\nimport { useField } from \"formik\"\r\nimport Form from \"react-bootstrap/Form\"\r\nimport { ClassProps } from \"../../utility/props\"\r\nimport cn from \"classnames\"\r\n\r\nexport interface Props extends ClassProps {\r\n    id: string\r\n    name: string\r\n    type?: string\r\n    placeholder?: string\r\n    as?: React.ElementType\r\n    readonly?: boolean\r\n    label?: string\r\n    disableFeedback?: boolean\r\n}\r\n\r\nconst ValidatableInput: React.FC<Props> = props => {\r\n    const [field, meta] = useField<any>(props)\r\n    const {\r\n        id,\r\n        type,\r\n        placeholder,\r\n        as,\r\n        label,\r\n        readonly,\r\n        className,\r\n        disableFeedback\r\n    } = props\r\n\r\n    return (\r\n        <Form.Group className={cn(className)} controlId={id}>\r\n            {label && <Form.Label>{label}</Form.Label>}\r\n            <Form.Control\r\n                plaintext={!!readonly}\r\n                type={type}\r\n                as={as}\r\n                name={field.name}\r\n                placeholder={placeholder}\r\n                onChange={field.onChange}\r\n                onBlur={field.onBlur}\r\n                value={field.value}\r\n                isInvalid={meta.touched && !!meta.error}\r\n            >\r\n                {props.children}\r\n            </Form.Control>\r\n            {!disableFeedback &&\r\n                <Form.Control.Feedback type=\"invalid\">{meta.error}</Form.Control.Feedback>\r\n            }\r\n        </Form.Group>\r\n    )\r\n}\r\n\r\nexport default ValidatableInput\r\n","import React from \"react\"\r\nimport \"./LoadingButton.scss\"\r\nimport Button from \"react-bootstrap/Button\"\r\nimport Loading from \"../Loading/Loading\"\r\n\r\ninterface Props extends React.ComponentPropsWithoutRef<typeof Button> {\r\n    loading?: boolean\r\n}\r\n\r\nconst LoadingButton: React.FC<Props> = props => {\r\n    const { loading, children, ...buttonProps } = props\r\n    return (\r\n        <Button\r\n            {...buttonProps}\r\n            disabled={loading ? true : buttonProps.disabled}\r\n        >\r\n            {loading\r\n                ? <Loading className=\"loading-button__spinner\"/>\r\n                : children\r\n            }\r\n        </Button>\r\n    )\r\n}\r\n\r\nexport default LoadingButton","import React from \"react\"\r\nimport \"./LoginForm.scss\"\r\nimport { LoginData } from \"../../models/login\"\r\nimport { FormikProps, Formik } from \"formik\"\r\nimport * as Yup from \"yup\"\r\nimport Form from \"react-bootstrap/Form\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { login } from \"../../store/auth/thunks\"\r\nimport { getLoginError, getLoginProcess } from \"../../store/auth/selectors\"\r\nimport { nameof } from \"../../utility/nameof\"\r\nimport { getFormErrors } from \"../../utility/getFormErrors\"\r\n\r\nimport ValidatableInput from \"../ValidatableInput/ValidatableInput\"\r\nimport LoadingButton from \"../LoadingButton/LoadingButton\"\r\nimport Button from \"react-bootstrap/Button\"\r\n\r\nconst FormikLoginForm: React.FC<FormikProps<LoginData>> = props => {\r\n    const {\r\n        handleSubmit,\r\n        errors,\r\n        touched\r\n    } = props\r\n    const loginProcess = useSelector(getLoginProcess)\r\n    const loginError = useSelector(getLoginError)\r\n    return (\r\n        <div className=\"login-form\">\r\n            <div className=\"login-form__container\">\r\n                <h1 className=\"login-form__title\">Авторизация</h1>\r\n                <Form noValidate onSubmit={handleSubmit}>\r\n                    <ValidatableInput\r\n                        className=\"login-form__login\"\r\n                        id=\"loginFormLogin\"\r\n                        type=\"text\"\r\n                        name={nameof<LoginData>(\"login\")}\r\n                        placeholder=\"E-mail\"\r\n                        disableFeedback={true}\r\n                    />\r\n                    <ValidatableInput\r\n                        className=\"login-form__password\"\r\n                        id=\"loginFormPassword\"\r\n                        type=\"password\"\r\n                        name={nameof<LoginData>(\"password\")}\r\n                        placeholder=\"Пароль\"\r\n                        disableFeedback={true}\r\n                    />\r\n                    <LoadingButton\r\n                        type=\"submit\"\r\n                        className=\"login-form__submit\"\r\n                        variant=\"outline-light\"\r\n                        loading={loginProcess}\r\n                    >\r\n                        Войти\r\n                    </LoadingButton>\r\n                    <Button\r\n                        className=\"login-form__submit\"\r\n                        variant=\"outline-light\"\r\n                    >\r\n                        Зарегистрироваться\r\n                    </Button>\r\n                    <div className=\"login-form__error-container\">\r\n                        {getFormErrors<LoginData>(touched, errors).map((error, index) =>\r\n                            <h2 key={index} className=\"login-form__error\">\r\n                                {error}\r\n                            </h2>\r\n                        )}\r\n                        { loginError &&\r\n                        <h2 className=\"login-form__error\">\r\n                            {loginError.reason && loginError.reason}\r\n                        </h2>\r\n                        }\r\n                    </div>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LoginForm: React.FC = () => {\r\n    const dispatch = useDispatch()\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={{ login: \"\", password: \"\" }}\r\n            validationSchema={Yup.object().shape({\r\n                login: Yup.string()\r\n                    .required(\"Введите Email\"),\r\n                password: Yup.string()\r\n                    .required(\"Введите пароль\"),\r\n            })}\r\n            onSubmit={(values: LoginData) => {\r\n                dispatch(login(values))\r\n            }}\r\n        >\r\n            {formikProps => <FormikLoginForm {...formikProps} />}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport default LoginForm\r\n","import { FormikTouched, FormikErrors, FormikValues } from \"formik\"\r\n\r\nexport function getFormErrors<T extends FormikValues>(touched: FormikTouched<T>, errors: FormikErrors<T>) {\r\n    return Object.keys(touched).map(touch => errors[touch])\r\n}","import React from \"react\"\r\nimport \"./Login.scss\"\r\nimport { useAuthenticationHandling } from \"../../utility/useAuthenticationHandling\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { getUserState } from \"../../store/auth/selectors\"\r\nimport { useRedirect } from \"../../utility/useRedirect\"\r\n\r\nimport PublicPage from \"../../components/PublicPage/PublicPage\"\r\nimport LoginForm from \"../../components/LoginForm/LoginForm\"\r\nimport LoadingPage from \"../../components/LoadingPage/LoadingPage\"\r\n\r\nconst Login: React.FC = () => {\r\n    const isAuth = useRedirect()\r\n    const authRequested = useAuthenticationHandling(false)\r\n    const { inProcess } = useSelector(getUserState)\r\n    if (!isAuth && !inProcess && authRequested) {\r\n        return (\r\n            <PublicPage className=\"login\">\r\n                <LoginForm/>\r\n            </PublicPage>\r\n        )\r\n    }\r\n    return ( <LoadingPage/> )\r\n}\r\n\r\nexport default Login","import { User } from \"../models/user\"\r\n\r\nconst getLoginOrEmpty = (user?: User) => user ? user.login : \"\"\r\n\r\nexport default getLoginOrEmpty","import React, { useCallback } from \"react\"\r\nimport \"./Home.scss\"\r\nimport { Button, Container } from \"react-bootstrap\"\r\nimport LoadingButton from \"../../components/LoadingButton/LoadingButton\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { getLogoutStatus, getUser } from \"../../store/auth/selectors\"\r\nimport { logout } from \"../../store/auth/thunks\"\r\nimport { push } from \"connected-react-router\"\r\nimport getLoginOrEmpty from \"../../utility/getLoginOrEmpty\"\r\n\r\nconst Home: React.FC = () => {\r\n    const { inProcess } = useSelector(getLogoutStatus)\r\n    const user = useSelector(getUser)\r\n    const dispatch = useDispatch()\r\n    const onClick = useCallback(() => dispatch(logout()), [dispatch])\r\n    const toProfile = useCallback(() => dispatch(push(`/${getLoginOrEmpty(user)}`)), [dispatch, user])\r\n    return (\r\n        <Container fluid className=\"home\">\r\n            <section className=\"home__message\">\r\n                Вы зашли в систему\r\n            </section>\r\n            <Button\r\n                onClick={toProfile}\r\n                variant=\"outline-light\"\r\n                className=\"home__message\"\r\n            >\r\n                В профиль\r\n            </Button>\r\n            <LoadingButton\r\n                onClick={onClick}\r\n                loading={inProcess}\r\n                variant=\"outline-light\"\r\n            >\r\n                Выйти\r\n            </LoadingButton>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Home","import React from \"react\"\r\nimport \"./MobileOnly.scss\"\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\nconst MobileOnly: React.FC<Props> = () => {\r\n    return (\r\n        <div className=\"mobile-only\">\r\n            <h1>Веб-сайт доступен только с мобильного телефона</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MobileOnly","import AsyncState from \"../../core/asyncState\"\r\nimport { createSlice } from \"@reduxjs/toolkit\"\r\nimport { Profile } from \"../../models/profile\"\r\n\r\nexport type ProfileState = Readonly<{\r\n    profile: AsyncState<Profile>\r\n    isEdit: boolean\r\n}>\r\n\r\nconst initialState: ProfileState = {\r\n    profile: AsyncState.create(),\r\n    isEdit: false\r\n}\r\n\r\nconst ProfileSlice = createSlice({\r\n    name: \"profile\",\r\n    initialState,\r\n    reducers: {\r\n        getProfileProcess(state) {\r\n            state.profile = state.profile.toProcess()\r\n        },\r\n        getProfileSuccess(state, action) {\r\n            state.profile = state.profile.toSuccess(action.payload)\r\n        },\r\n        getProfileFailed(state, action) {\r\n            state.profile = state.profile.toFailed(action.payload)\r\n        },\r\n        editProfile(state) {\r\n            state.isEdit = true\r\n        },\r\n        freezeProfile(state) {\r\n            state.isEdit = false\r\n        },\r\n        saveProfile(state, action) {\r\n            state.isEdit = false\r\n            state.profile = state.profile.toSuccess(action.payload)\r\n        }\r\n    }\r\n})\r\n\r\nexport default ProfileSlice.reducer\r\nexport const actions = ProfileSlice.actions","import { apiInstance } from \"../instances\"\r\nimport { Profile } from \"../../models/profile\"\r\n\r\nexport default {\r\n    get: (profileId: string): Promise<Profile> =>\r\n        apiInstance.get(`/profile/${profileId}`)\r\n            .then(response => response.data),\r\n    set: (profile: Profile): Promise<Profile> =>\r\n        apiInstance.post(`/profile`, profile)\r\n            .then(response => response.data)\r\n}","import { RootState } from \"../rootReducer\"\r\n\r\nexport const selectCurrentProfile = (state: RootState) => state.profile.profile","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.692 0.399999H3.032V13H0.692V0.399999ZM8.99605 2.38H4.82005V0.399999H15.512V2.38H11.336V13H8.99605V2.38ZM21.0511 13.18C20.0791 13.18 19.1371 13.042 18.2251 12.766C17.3251 12.49 16.6111 12.124 16.0831 11.668L16.8931 9.85C17.4091 10.258 18.0391 10.594 18.7831 10.858C19.5391 11.11 20.2951 11.236 21.0511 11.236C21.9871 11.236 22.6831 11.086 23.1391 10.786C23.6071 10.486 23.8411 10.09 23.8411 9.598C23.8411 9.238 23.7091 8.944 23.4451 8.716C23.1931 8.476 22.8691 8.29 22.4731 8.158C22.0771 8.026 21.5371 7.876 20.8531 7.708C19.8931 7.48 19.1131 7.252 18.5131 7.024C17.9251 6.796 17.4151 6.442 16.9831 5.962C16.5631 5.47 16.3531 4.81 16.3531 3.982C16.3531 3.286 16.5391 2.656 16.9111 2.092C17.2951 1.516 17.8651 1.06 18.6211 0.723999C19.3891 0.387999 20.3251 0.219999 21.4291 0.219999C22.1971 0.219999 22.9531 0.316 23.6971 0.508C24.4411 0.7 25.0831 0.976 25.6231 1.336L24.8851 3.154C24.3331 2.83 23.7571 2.584 23.1571 2.416C22.5571 2.248 21.9751 2.164 21.4111 2.164C20.4871 2.164 19.7971 2.32 19.3411 2.632C18.8971 2.944 18.6751 3.358 18.6751 3.874C18.6751 4.234 18.8011 4.528 19.0531 4.756C19.3171 4.984 19.6471 5.164 20.0431 5.296C20.4391 5.428 20.9791 5.578 21.6631 5.746C22.5991 5.962 23.3671 6.19 23.9671 6.43C24.5671 6.658 25.0771 7.012 25.4971 7.492C25.9291 7.972 26.1451 8.62 26.1451 9.436C26.1451 10.132 25.9531 10.762 25.5691 11.326C25.1971 11.89 24.6271 12.34 23.8591 12.676C23.0911 13.012 22.1551 13.18 21.0511 13.18ZM40.0394 13L40.0214 4.648L35.8814 11.56H34.8374L30.6974 4.756V13H28.4654V0.399999H30.3914L35.3954 8.752L40.3094 0.399999H42.2354L42.2534 13H40.0394ZM55.1068 11.038V13H45.6568V0.399999H54.8548V2.362H47.9968V5.638H54.0808V7.564H47.9968V11.038H55.1068Z\",\n  fill: \"currentColor\"\n});\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 56,\n    height: 14,\n    viewBox: \"0 0 56 14\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.fae262c3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M14.4 4.4C14.4 6.27777 12.8778 7.8 11 7.8C9.12222 7.8 7.59999 6.27777 7.59999 4.4C7.59999 2.52223 9.12222 1 11 1C12.8778 1 14.4 2.52223 14.4 4.4ZM15.4 4.4C15.4 6.83005 13.43 8.8 11 8.8C8.56993 8.8 6.59999 6.83005 6.59999 4.4C6.59999 1.96995 8.56993 0 11 0C13.43 0 15.4 1.96995 15.4 4.4ZM18.0711 13.8288C19.7092 15.467 20.7203 17.615 20.9499 19.8999H11L1.05009 19.8999C1.27966 17.615 2.29077 15.467 3.92893 13.8288C5.8043 11.9535 8.34784 10.8999 11 10.8999C13.6522 10.8999 16.1957 11.9535 18.0711 13.8288ZM18.7782 13.1217C20.604 14.9476 21.7217 17.3493 21.9545 19.8999C21.9847 20.231 22 20.5647 22 20.8999H21H11L1 20.8999H0C0 20.5647 0.0153015 20.231 0.0455178 19.8999C0.278269 17.3493 1.39596 14.9476 3.22183 13.1217C5.28473 11.0588 8.08262 9.89992 11 9.89992C13.9174 9.89992 16.7153 11.0588 18.7782 13.1217Z\",\n  fill: \"currentColor\"\n});\n\nvar SvgProfile = function SvgProfile(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 21,\n    viewBox: \"0 0 22 21\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgProfile, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/profile.32b1590e.svg\";\nexport { ForwardRef as ReactComponent };","export default {\r\n    login: \"/account/login\"\r\n}","import React, { useMemo } from \"react\"\r\nimport \"./MenuItem.scss\"\r\n\r\ninterface Props {\r\n    number: number\r\n    title: string\r\n    onClick: () => void\r\n}\r\n\r\nconst MenuItem: React.FC<Props> = props => {\r\n    const { title, onClick, number } = props\r\n    const processedNumber = useMemo(() => number <= 9 ? `0${number}` : number.toString(), [number])\r\n    return (\r\n        <div className=\"menu-item\" onClick={onClick}>\r\n            <div className=\"menu-item__number\">{processedNumber}</div>\r\n            <div className=\"menu-item__title\">{title}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MenuItem","import React, { useMemo } from \"react\"\r\nimport \"./Menu.scss\"\r\nimport cn from \"classnames\"\r\nimport { MenuItemType } from \"../../models/menu\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { actions } from \"../../store/profile/slice\"\r\nimport MenuItem from \"../MenuItem/MenuItem\"\r\n\r\ninterface Props {\r\n    opened: boolean\r\n    toUserProfile: () => void\r\n}\r\n\r\nconst Menu: React.FC<Props> = props => {\r\n    const { opened, toUserProfile } = props\r\n    const dispatch = useDispatch()\r\n    const menuItems: MenuItemType[] = useMemo(() => [\r\n        {\r\n            title: \"Редактировать профиль\",\r\n            onClick: () => {\r\n                toUserProfile()\r\n                dispatch(actions.editProfile())\r\n            }\r\n        }\r\n    ], [dispatch, toUserProfile])\r\n    return (\r\n        <div className={cn(\"menu\", opened && \"menu_opened\")}>\r\n            {opened &&\r\n            <div className=\"menu__container\">\r\n                {menuItems.map((m, i) =>\r\n                    <MenuItem key={i} number={i + 1} title={m.title} onClick={m.onClick} />\r\n                )}\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Menu","import React, { useCallback } from \"react\"\r\nimport \"./Header.scss\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { getAuthStatus, getUser } from \"../../store/auth/selectors\"\r\nimport { Squash as Hamburger } from \"hamburger-react\"\r\nimport { ReactComponent as Logo } from \"../../assets/images/logo.svg\"\r\nimport { ReactComponent as ProfileLink } from \"../../assets/images/profile.svg\"\r\nimport { push } from \"connected-react-router\"\r\nimport cn from \"classnames\"\r\nimport routes from \"../../routes\"\r\nimport Menu from \"../Menu/Menu\"\r\nimport getLoginOrEmpty from \"../../utility/getLoginOrEmpty\"\r\n\r\ninterface Props {\r\n    onMenuOpen: (toggle: boolean) => void\r\n    menuOpened: boolean\r\n}\r\n\r\nconst Header: React.FC<Props> = props => {\r\n    const { onMenuOpen, menuOpened } = props\r\n    const authenticated = useSelector(getAuthStatus)\r\n    const user = useSelector(getUser)\r\n    const dispatch = useDispatch()\r\n    const toUserProfile = useCallback(() => dispatch(push(`/${getLoginOrEmpty(user)}\"}`)), [dispatch, user])\r\n    const toLogin = useCallback(() => dispatch(push(routes.login)), [dispatch])\r\n    return (\r\n        <div className={cn(\"header\", authenticated && \"header_auth\")}>\r\n            {authenticated &&\r\n                <>\r\n                    <div className=\"header__left\">\r\n                        <div className=\"header__menu\">\r\n                            <Hamburger size={22} onToggle={onMenuOpen} toggled={menuOpened}/>\r\n                        </div>\r\n                    </div>\r\n                    <Menu opened={menuOpened} toUserProfile={toUserProfile}/>\r\n                </>\r\n\r\n            }\r\n            <div className=\"header__logo\">\r\n                <Logo/>\r\n            </div>\r\n            {!authenticated &&\r\n                <div\r\n                    className=\"header__sign-in\"\r\n                    onClick={toLogin}\r\n                >\r\n                    SIGN IN\r\n                </div>\r\n            }\r\n            {authenticated &&\r\n            <div className=\"header__right\">\r\n                <div className=\"header__account\">\r\n                    <div\r\n                        className=\"header__account-button\"\r\n                        onClick={toUserProfile}\r\n                    >\r\n                        <ProfileLink/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header","import React from \"react\"\r\n\r\nconst MenuContext = React.createContext<boolean>(false)\r\n\r\nexport default MenuContext","import React, { useState } from \"react\"\r\nimport \"./ProfileView.scss\"\r\nimport { Profile } from \"../../models/profile\"\r\nimport Header from \"../Header/Header\"\r\nimport MenuContext from \"../MenuContext/MenuContext\"\r\n\r\ninterface Props {\r\n    profile: Profile\r\n    editable?: boolean\r\n}\r\n\r\nconst ProfileView: React.FC<Props> = props => {\r\n    const { profile, editable = false } = props\r\n    const [isMenuOpen, setMenuOpen] = useState(false)\r\n    return (\r\n        <MenuContext.Provider value={isMenuOpen}>\r\n            <div className=\"profile-view\">\r\n                <Header menuOpened={isMenuOpen} onMenuOpen={setMenuOpen}/>\r\n                <div className=\"profile-view__container\">\r\n                    <div className=\"profile-view__picture\">\r\n                        {profile.picture\r\n                            ? <img src={profile.picture} alt=\"Аватар пользователя\" className=\"profile-view__picture-item\"/>\r\n                            : <div className=\"profile-view__picture-item profile-view__picture-item-default\"/>\r\n                        }\r\n                    </div>\r\n                    <div className=\"profile-view__personal\">\r\n                        {profile.firstname + \" \" + profile.lastname}\r\n                    </div>\r\n                    <div className=\"profile-view__location\">\r\n                        {profile.location}\r\n                    </div>\r\n                    <div className=\"profile-view__description\">\r\n                        {profile.description}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </MenuContext.Provider>\r\n    )\r\n}\r\n\r\nexport default ProfileView","import React, { useEffect, useMemo } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { useParams } from \"react-router\"\r\nimport { getUser } from \"../../store/auth/selectors\"\r\nimport Async from \"../../components/Async/Async\"\r\nimport LoadingPage from \"../../components/LoadingPage/LoadingPage\"\r\nimport ErrorPage from \"../../components/ErrorPage/ErrorPage\"\r\nimport { getProfile } from \"../../store/profile/thunks\"\r\nimport { selectCurrentProfile } from \"../../store/profile/selectors\"\r\nimport ProfileView from \"../../components/ProfileView/ProfileView\"\r\nimport { useAuthenticationHandling } from \"../../utility/useAuthenticationHandling\"\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\nconst Profile: React.FC<Props> = () => {\r\n    const profileState = useSelector(selectCurrentProfile)\r\n    const user = useSelector(getUser)\r\n    const dispatch = useDispatch()\r\n    useAuthenticationHandling(false)\r\n    const { profileId } = useParams<{ profileId: string }>()\r\n    const editableProfile = useMemo(() => user ? user.login === profileId : false, [profileId, user])\r\n    useEffect(() => {\r\n        dispatch(getProfile(profileId))\r\n    }, [dispatch, profileId])\r\n    return (\r\n        <Async\r\n            dataState={profileState}\r\n            processView={<LoadingPage/>}\r\n            errorView={({ message }) => <ErrorPage message={message}/>}\r\n        >\r\n            {({ data }) =>\r\n                <ProfileView profile={data} editable={editableProfile}/>\r\n            }\r\n        </Async>\r\n\r\n    )\r\n}\r\n\r\nexport default Profile","import { ActionResult, Dispatch } from \"../../utility/storeHelper\"\r\nimport { actions } from \"./slice\"\r\nimport { createSystemError } from \"../../core/error\"\r\nimport { sendError } from \"../error/actions\"\r\nimport { GET_PROFILE_FAILED, SAVE_PROFILE_FAILED } from \"./constants\"\r\nimport profileController from \"../../api/controllers/profile\"\r\nimport { Profile } from \"../../models/profile\"\r\n\r\nexport const getProfile = (profileId: string): ActionResult<Promise<void>> =>\r\n    async (dispatch: Dispatch) => {\r\n        dispatch(actions.getProfileProcess())\r\n        try {\r\n            const profile = await profileController.get(profileId)\r\n            dispatch(actions.getProfileSuccess(profile))\r\n        }\r\n        catch (e) {\r\n            const error = createSystemError(GET_PROFILE_FAILED, e)\r\n            dispatch(actions.getProfileFailed(error))\r\n            sendError(dispatch, error)\r\n        }\r\n    }\r\n\r\nexport const saveProfile = (profile: Profile): ActionResult<Promise<void>> =>\r\n    async (dispatch: Dispatch) => {\r\n        try {\r\n            const newProfile = await profileController.set(profile)\r\n            dispatch(actions.saveProfile(newProfile))\r\n        }\r\n        catch (e) {\r\n            const error = createSystemError(SAVE_PROFILE_FAILED, e)\r\n            dispatch(actions.freezeProfile())\r\n            sendError(dispatch, error)\r\n        }\r\n    }","export const GET_PROFILE_FAILED = \"Не удалось загрузить профиль пользователя\"\r\nexport const SAVE_PROFILE_FAILED = \"Не удалось сохранить профиль пользователя\"","import React, { Context } from \"react\"\r\nimport { History } from \"history\"\r\nimport { ReactReduxContextValue } from \"react-redux\"\r\nimport { ConnectedRouter } from \"connected-react-router\"\r\nimport { Route, Switch } from \"react-router\"\r\n\r\nimport ProtectedRoute from \"./components/ProtectedRoute/ProtectedRoute\"\r\nimport ErrorBoundary from \"./components/ErrorBoundary/ErrorBoundary\"\r\nimport Login from \"./pages/Login/Login\"\r\nimport Home from \"./pages/Home/Home\"\r\nimport { BrowserView, MobileView } from \"react-device-detect\"\r\nimport MobileOnly from \"./pages/MobileOnly/MobileOnly\"\r\nimport Profile from \"./pages/Profile/Profile\"\r\nimport routes from \"./routes\"\r\n\r\ntype Props = {\r\n  history: History,\r\n  context: Context<ReactReduxContextValue>\r\n}\r\n\r\nconst App: React.FC<Props> = ({ history, context }) => {\r\n    return (\r\n        <ErrorBoundary>\r\n            <ConnectedRouter history={history} context={context}>\r\n                <BrowserView>\r\n                    <MobileOnly/>\r\n                </BrowserView>\r\n                <MobileView>\r\n                    <Switch>\r\n                        <Route path={routes.login} component={Login} />\r\n                        <Route path=\"/:profileId\" component={Profile}/>\r\n                        <ProtectedRoute exact path=\"/\" component={Home} />\r\n                    </Switch>\r\n                </MobileView>\r\n            </ConnectedRouter>\r\n        </ErrorBoundary>\r\n    )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n)\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(\r\n            (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n            window.location.href\r\n        )\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n            return\r\n        }\r\n\r\n        window.addEventListener(\"load\", () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n            if (isLocalhost) {\r\n                // This is running on localhost. Let's check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl, config)\r\n\r\n                // Add some additional logging to localhost, pointing developers to the\r\n                // service worker/PWA documentation.\r\n                navigator.serviceWorker.ready.then(() => {\r\n                    console.log(\r\n                        \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n                    )\r\n                })\r\n            } else {\r\n                // Is not localhost. Just register service worker\r\n                registerValidSW(swUrl, config)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then(registration => {\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing\r\n                if (installingWorker == null) {\r\n                    return\r\n                }\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === \"installed\") {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the updated precached content has been fetched,\r\n                            // but the previous service worker will still serve the older\r\n                            // content until all client tabs are closed.\r\n                            console.log(\r\n                                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n                            )\r\n\r\n                            // Execute callback\r\n                            if (config && config.onUpdate) {\r\n                                config.onUpdate(registration)\r\n                            }\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.log(\"Content is cached for offline use.\")\r\n\r\n                            // Execute callback\r\n                            if (config && config.onSuccess) {\r\n                                config.onSuccess(registration)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.error(\"Error during service worker registration:\", error)\r\n        })\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n        .then(response => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            const contentType = response.headers.get(\"content-type\")\r\n            if (\r\n                response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n            ) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then(registration => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload()\r\n                    })\r\n                })\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl, config)\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.log(\r\n                \"No internet connection found. App is running in offline mode.\"\r\n            )\r\n        })\r\n}\r\n\r\nexport function unregister() {\r\n    if (\"serviceWorker\" in navigator) {\r\n        navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister()\r\n        })\r\n    }\r\n}\r\n","import { combineReducers } from \"redux\"\r\nimport { History } from \"history\"\r\n\r\n// reducers\r\nimport { connectRouter, RouterState } from \"connected-react-router\"\r\nimport AuthReducer, { AuthState } from \"./auth/slice\"\r\nimport ProfileReducer, { ProfileState } from \"./profile/slice\"\r\n\r\nexport interface RootState {\r\n    router: RouterState\r\n    auth: AuthState\r\n    profile: ProfileState\r\n}\r\n\r\nexport const createRootReducer = (history: History) => combineReducers<RootState, any>({\r\n    router: connectRouter(history),\r\n    auth: AuthReducer,\r\n    profile: ProfileReducer\r\n})\r\n\r\nexport default createRootReducer","import { createBrowserHistory } from \"history\"\r\nimport { routerMiddleware as createRouterMiddleware } from \"connected-react-router\"\r\nimport thunk from \"redux-thunk\"\r\nimport { configureStore } from \"@reduxjs/toolkit\"\r\n\r\nimport createRootReducer from \"./rootReducer\"\r\n\r\nexport const history = createBrowserHistory({\r\n    basename: process.env.PUBLIC_URL + \"/\"\r\n})\r\nconst routerMiddleware = createRouterMiddleware(history)\r\n\r\nconst store = configureStore({\r\n    reducer: createRootReducer(history),\r\n    middleware: [routerMiddleware, thunk],\r\n    devTools: process.env.NODE_ENV === \"development\"\r\n})\r\n\r\nexport default store\r\n\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport { Provider, ReactReduxContext } from \"react-redux\"\r\nimport NetworkService from \"./api/networkService\"\r\n\r\nimport \"./index.scss\"\r\nimport App from \"./App\"\r\nimport * as serviceWorker from \"./serviceWorker\"\r\nimport store, { history } from \"./store/store\"\r\n\r\n// initialize axios interceptors for auth\r\nNetworkService.setupInterceptors(store)\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App history={history} context={ReactReduxContext}/>\r\n    </Provider>,\r\n    document.getElementById(\"root\"))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}